<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../css/tailwind.css">
</head>
<body class="min-h-screen flex flex-col">
  <!-- Navbar -->
  <nav class="bg-green-600 text-white shadow-md bg-cover bg-center" style="background-image: url('../image/Group-6.png');">
    <div class="container mx-auto px-4 py-5 flex items-center">
      <div class="w-1/5">
        <a href="#" class="text-4xl font-bold">Pharmacy</a>
      </div>
      <div class="w-2/3 h-full flex items-center space-x-6">
        <a href="#"
           class="h-full text-2xl font-normal text-white hover:text-green-300 hover:underline transition-all duration-200">
          Home</a>
        <a href="#"
           class="h-full text-2xl font-normal text-white hover:text-green-300 hover:underline transition-all duration-200">
          Stock</a>
      </div>
      <div class="w-2/6 flex items-center justify-end space-x-6">
        <a href="#" class="text-xl text-white hover:text-green-300 hover:underline transition-all duration-200">
          Logout
        </a>
      </div>
    </div>
  </nav>

  <!-- Main content -->
  <main class="flex-grow container mx-auto my-10 px-4">
    <div class="overflow-x-auto">
        <form action="/owner/manage_stock" method="post" class="mb-20 max-w-md mx-auto bg-white p-6 rounded shadow-md">
        <div class="relative z-0 w-full mb-5 group">
            <label for="medicine_id" class="block text-sm font-medium text-gray-700 mb-2">Medicine</label>
            <input type="text" id="medicin_search" name="medicine_search" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-green-600 appearance-none focus:outline-none focus:ring-0 focus:border-green-600 peer" placeholder="Search for a medicine" onkeyup="filterMedicines()">
            <select name="medicine_id" id="medicine_id" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-green-600 appearance-none focus:outline-none focus:ring-0 focus:border-green-600 peer" required>
                <option value="">Select a Medicine</option>
                <t t-foreach="medicines" t-as="medicine">
                    <option t-att-value="medicine.id" t-att-selected="'selected' if form_data and form_data.get('medicine_id') == medicine.id else ''" t-esc="medicine.name" />
                </t>
            </select>
        </div>

        <div class="grid md:grid-cols-2 md:gap-6">
            <div class="relative z-0 w-full mb-5 group">
                <label for="price" class="block text-sm font-medium text-gray-700 mb-2">Price</label>
                <input type="number" name="price" id="price" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-green-600 appearance-none focus:outline-none focus:ring-0 focus:border-green-600 peer" t-att-value="form_data.get('price') if form_data else ''" min="0.01" step="0.01" required />
            </div>

            <div class="relative z-0 w-full mb-5 group">
                <label for="quantity" class="block text-sm font-medium text-gray-700 mb-2">Quantity</label>
                <input type="number" name="quantity" id="quantity" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-green-600 appearance-none focus:outline-none focus:ring-0 focus:border-green-600 peer" t-att-value="form_data.get('quantity') if form_data else ''" min="1" required />
            </div>
        </div>

        <button type="submit" class="text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center">
            Save Stock
        </button>
    </form>
    </div>
    <h1 class="text-3xl font-bold text-green-700 mb-6">Reservation Management</h1>
    <p class="text-gray-700 mb-4">Manage reservations for your pharmacy below.</p>
    <div class="overflow-x-auto">
       <div class="sm:px-6 w-full">
    <form action="/owner/manage_stock" method="post" class="mb-10 max-w-full mx-auto bg-white p-6 rounded shadow-md flex items-center space-x-4">
        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
        <input type="hidden" name="stock_id" t-att-value="form_data.get('stock_id') if form_data else ''" />

        <!-- Medicine Field -->
        <div class="relative z-0 flex-1">
            <label for="medicine_id" class="block text-sm font-medium text-gray-700 mb-2">Medicine</label>
            <select name="medicine_id" id="medicine_id" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-green-600 appearance-none focus:outline-none focus:ring-0 focus:border-green-600 peer" required="required">
                <option value="">Select a Medicine</option>
                <t t-foreach="medicines" t-as="medicine">
                    <option t-att-value="medicine.id" t-att-selected="'selected' if form_data and form_data.get('medicine_id') == medicine.id else ''" t-esc="medicine.name" />
                </t>
            </select>
        </div>

        <!-- Price Field -->
        <div class="relative z-0 flex-1">
            <label for="price" class="block text-sm font-medium text-gray-700 mb-2">Price</label>
            <input type="number" name="price" id="price" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-green-600 appearance-none focus:outline-none focus:ring-0 focus:border-green-600 peer" t-att-value="form_data.get('price') if form_data else ''" min="0.01" step="0.01" required="required" />
        </div>

        <!-- Quantity Field -->
        <div class="relative z-0 flex-1">
            <label for="quantity" class="block text-sm font-medium text-gray-700 mb-2">Quantity</label>
            <input type="number" name="quantity" id="quantity" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-green-600 appearance-none focus:outline-none focus:ring-0 focus:border-green-600 peer" t-att-value="form_data.get('quantity') if form_data else ''" min="1" required="required" />
        </div>

        <!-- Submit Button -->
        <button type="submit" class="text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center">
            Save Stock
        </button>
    </form>
</div>

      <div class="sm:px-6 w-full">
            <div class="bg-white py-4 md:py-7 px-4 md:px-8 xl:px-10">
                <div class="sm:flex items-center justify-between w-full">
                  <div class="flex items-center">
                    <a class="rounded-full focus:outline-none focus:ring-2 focus:bg-indigo-50 focus:ring-indigo-800" data-filter="all">
                      <div class="py-2 px-8 bg-indigo-100 text-indigo-700 rounded-full">
                        <p>All</p>
                      </div>
                    </a>
                    <a class="rounded-full focus:outline-none focus:ring-2 focus:bg-indigo-50 focus:ring-indigo-800 ml-4 sm:ml-8" data-filter="new">
                      <div class="py-2 px-8 text-gray-600 hover:text-indigo-700 hover:bg-indigo-100 rounded-full">
                        <p>New</p>
                      </div>
                    </a>
                    <a class="rounded-full focus:outline-none focus:ring-2 focus:bg-indigo-50 focus:ring-indigo-800 ml-4 sm:ml-8" data-filter="finalized">
                      <div class="py-2 px-8 text-gray-600 hover:text-indigo-700 hover:bg-indigo-100 rounded-full">
                        <p>Finalized</p>
                      </div>
                    </a>
                    <a class="rounded-full focus:outline-none focus:ring-2 focus:bg-indigo-50 focus:ring-indigo-800 ml-4 sm:ml-8" data-filter="canceled">
                      <div class="py-2 px-8 text-gray-600 hover:text-indigo-700 hover:bg-indigo-100 rounded-full">
                        <p>Canceled</p>
                      </div>
                    </a>
                  </div>

                  <div class="flex px-4 py-3 rounded-md border-2 border-green-500 overflow-hidden max-w-md ml-auto font-[sans-serif]">
                    <input id="search-bar" type="email" placeholder="Search Something..."
                      class="w-full outline-none bg-transparent text-gray-600 text-sm" />
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192.904 192.904" width="16px" class="fill-gray-600">
                      <path
                        d="m190.707 180.101-47.078-47.077c11.702-14.072 18.752-32.142 18.752-51.831C162.381 36.423 125.959 0 81.191 0 36.422 0 0 36.423 0 81.193c0 44.767 36.422 81.187 81.191 81.187 19.688 0 37.759-7.049 51.831-18.751l47.079 47.078a7.474 7.474 0 0 0 5.303 2.197 7.498 7.498 0 0 0 5.303-12.803zM15 81.193C15 44.694 44.693 15 81.191 15c36.497 0 66.189 29.694 66.189 66.193 0 36.496-29.692 66.187-66.189 66.187C44.693 147.38 15 117.689 15 81.193z">
                      </path>
                    </svg>
                  </div>
                </div>

                <div class="mt-7 overflow-x-auto">
                    <table class="w-full whitespace-nowrap">
                        <thead class="bg-green-600 text-white">
                          <tr>
                            <th class="px-4 py-3 text-left">Client</th>
                            <th class="px-4 py-3 text-left">Medicine</th>
                            <th class="px-4 py-3 text-left">Message</th>
                            <th class="px-4 py-3 text-left">Quantity</th>
                            <th class="px-4 py-3 text-left">Total Price</th>
                            <th class="px-4 py-3 text-left">State</th>
                            <th class="px-4 py-3 text-left"></th>
                          </tr>
                        </thead>
                        <tbody>
                            <tr class="h-1"></tr>
                            <tr class="focus:outline-none h-16 border border-gray-100 rounded" data-state="new">
                                <td>
                                    <div class="flex items-center pl-5">
                                        <p class="text-sm leading-none text-gray-600">Marketing Keynote</p>
                                    </div>
                                </td>
                                <td>
                                    <div class="flex items-center pl-5">
                                        <p class="text-sm leading-none text-gray-600">Keynote Presentation</p>
                                    </div>
                                </td>
                              , <td>

                                </td>
                                <td>
                                    <div class="flex items-center pl-5">
                                         <p class="text-sm leading-none text-gray-600">23</p>
                                    </div>
                                </td>
                                <td>
                                      <div class="flex items-center pl-5">
                                           <p class="text-sm leading-none text-gray-600">500 $</p>
                                      </div>
                                </td>
                                <td>
                                    <div class="p-3 text-sm leading-none text-gray-600 focus:outline-none bg-blue-100 rounded flex items-center justify-center">New</div>
                                </td>
                                <td>
                                    <div class="relative px-5 pt-2">
                                        <button class="focus:ring-2 rounded-md focus:outline-none" role="button" aria-label="option">
                                            <svg class="dropbtn" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                                <path d="M4.16667 10.8332C4.62691 10.8332 5 10.4601 5 9.99984C5 9.5396 4.62691 9.1665 4.16667 9.1665C3.70643 9.1665 3.33334 9.5396 3.33334 9.99984C3.33334 10.4601 3.70643 10.8332 4.16667 10.8332Z" stroke="#9CA3AF" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"></path>
                                                <path d="M10 10.8332C10.4602 10.8332 10.8333 10.4601 10.8333 9.99984C10.8333 9.5396 10.4602 9.1665 10 9.1665C9.53976 9.1665 9.16666 9.5396 9.16666 9.99984C9.16666 10.4601 9.53976 10.8332 10 10.8332Z" stroke="#9CA3AF" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"></path>
                                                <path d="M15.8333 10.8332C16.2936 10.8332 16.6667 10.4601 16.6667 9.99984C16.6667 9.5396 16.2936 9.1665 15.8333 9.1665C15.3731 9.1665 15 9.5396 15 9.99984C15 10.4601 15.3731 10.8332 15.8333 10.8332Z" stroke="#9CA3AF" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"></path>
                                            </svg>
                                        </button>
                                        <div class="dropdown-content bg-white shadow w-24 absolute z-30 right-0 mr-6 hidden">
                                            <div tabindex="0" class="focus:outline-none focus:text-indigo-600 text-xs w-full hover:bg-indigo-700 py-4 px-4 cursor-pointer hover:text-white">
                                                <p>Finalize</p>
                                            </div>
                                            <div tabindex="0" class="focus:outline-none focus:text-indigo-600 text-xs w-full hover:bg-indigo-700 py-4 px-4 cursor-pointer hover:text-white">
                                                <p>Cancel</p>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr class="h-1"></tr>
                            <tr class="focus:outline-none h-16 border border-gray-100 rounded" data-state="finalized">
                                <td>
                                    <div class="flex items-center pl-5">
                                        <p class="text-sm leading-none text-gray-600">Marketing Keynote</p>
                                    </div>
                                </td>
                                <td>
                                    <div class="flex items-center pl-5">
                                        <p class="text-sm leading-none text-gray-600">Keynote Presentation</p>
                                    </div>
                                </td>
                               <td>
                                  <div class="relative">
                                    <div class="flex items-center pl-5 toggle-message cursor-pointer">
                                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                        <path d="M3.33331 17.4998V6.6665C3.33331 6.00346 3.59671 5.36758 4.06555 4.89874C4.53439 4.4299 5.17027 4.1665 5.83331 4.1665H14.1666C14.8297 4.1665 15.4656 4.4299 15.9344 4.89874C16.4033 5.36758 16.6666 6.00346 16.6666 6.6665V11.6665C16.6666 12.3295 16.4033 12.9654 15.9344 13.4343C15.4656 13.9031 14.8297 14.1665 14.1666 14.1665H6.66665L3.33331 17.4998Z" stroke="#52525B" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"></path>
                                        <path d="M10 9.1665V9.17484" stroke="#52525B" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"></path>
                                        <path d="M6.66669 9.1665V9.17484" stroke="#52525B" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"></path>
                                        <path d="M13.3333 9.1665V9.17484" stroke="#52525B" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"></path>
                                      </svg>
                                      <p class="text-sm leading-none text-gray-600 ml-2">message</p>
                                    </div>
                                    <div class="hidden absolute z-50 p-3 mt-2 text-sm text-gray-600 bg-gray-100 rounded shadow-lg message-content max-w-xs">
                                      This is the detailed message content.
                                    </div>
                                  </div>
                                </td>
                                <td>
                                    <div class="flex items-center pl-5">
                                         <p class="text-sm leading-none text-gray-600">23</p>
                                    </div>
                                </td>
                                <td>
                                      <div class="flex items-center pl-5">
                                           <p class="text-sm leading-none text-gray-600">500 $</p>
                                      </div>
                                </td>
                                <td>
                                   <div class="p-3 text-sm leading-none text-gray-600 focus:outline-none bg-green-100 rounded flex items-center justify-center">Finalized</div>
                                </td>
                                <td>

                                </td>
                            </tr>
                            <tr class="h-1"></tr>
                            <tr class="focus:outline-none h-16 border border-gray-100 rounded" data-state="canceled">
                                <td>
                                    <div class="flex items-center pl-5">
                                        <p class="text-sm leading-none text-gray-600">Marketing Keynote</p>
                                    </div>
                                </td>
                                <td>
                                    <div class="flex items-center pl-5">
                                        <p class="text-sm leading-none text-gray-600">Keynote Presentation</p>
                                    </div>
                                </td>
                               <td>
                                  <div class="relative">
                                    <div class="flex items-center pl-5 toggle-message cursor-pointer">
                                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                        <path d="M3.33331 17.4998V6.6665C3.33331 6.00346 3.59671 5.36758 4.06555 4.89874C4.53439 4.4299 5.17027 4.1665 5.83331 4.1665H14.1666C14.8297 4.1665 15.4656 4.4299 15.9344 4.89874C16.4033 5.36758 16.6666 6.00346 16.6666 6.6665V11.6665C16.6666 12.3295 16.4033 12.9654 15.9344 13.4343C15.4656 13.9031 14.8297 14.1665 14.1666 14.1665H6.66665L3.33331 17.4998Z" stroke="#52525B" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"></path>
                                        <path d="M10 9.1665V9.17484" stroke="#52525B" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"></path>
                                        <path d="M6.66669 9.1665V9.17484" stroke="#52525B" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"></path>
                                        <path d="M13.3333 9.1665V9.17484" stroke="#52525B" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"></path>
                                      </svg>
                                      <p class="text-sm leading-none text-gray-600 ml-2">message</p>
                                    </div>
                                    <div class="hidden absolute z-50 p-3 mt-2 text-sm text-gray-600 bg-gray-100 rounded shadow-lg message-content max-w-xs break-words">
                                      This is the detailed message content.
                                    </div>
                                  </div>
                                </td>

                                <td>
                                    <div class="flex items-center pl-5">
                                         <p class="text-sm leading-none text-gray-600">23</p>
                                    </div>
                                </td>
                                <td>
                                      <div class="flex items-center pl-5">
                                           <p class="text-sm leading-none text-gray-600">500 $</p>
                                      </div>
                                </td>
                                <td>
                                    <div class="p-3 text-sm leading-none text-gray-600 focus:outline-none bg-red-100 rounded flex items-center justify-center">Canceled</div>
                                </td>
                                <td>

                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>


  </main>

  <!-- Footer -->
  <footer class="bg-green-800 text-white py-4 mt-auto">
    <div class="container mx-auto flex flex-col sm:flex-row justify-between items-center">
      <div class="container mx-auto flex flex-col sm:flex-row justify-between items-center">

        <div class="flex items-center space-x-6">
           <div class="mb-4 sm:mb-0 text-center sm:text-left ml-5 mr-10">
              <h3 class="text-lg font-semibold">Contact Administration</h3>
           </div>
          <a href="mailto:info@pharmacy.com" class="flex items-center space-x-3 hover:text-gray-300 transition duration-200">
            <img src="../logo/Group-9445.png" alt="Email Icon" class="w-6 h-6">
            <span class="text-sm">info@pharmacy.com</span>
          </a>
          <a href="tel:5554121234" class="flex items-center space-x-3 hover:text-gray-300 transition duration-200">
            <img src="../logo/Group-9445.png" alt="Phone Icon" class="w-6 h-6">
            <span class="text-sm">(212) 6123-45678</span>
          </a>
        </div>
      </div>

    </div>
    <div class="border-t border-green-600 my-3"></div>
    <div class="text-center text-sm">
      &copy; 2025 Pharmacy Management System.
    </div>
  </footer>


</body>

<!-- JavaScript -->
<script>
  document.querySelectorAll('.dropbtn').forEach(button => {
    button.addEventListener('click', function () {
      const dropdown = this.parentElement.nextElementSibling;
      dropdown.classList.toggle('hidden');
    });
  });

  document.addEventListener('click', function (e) {
    const messages = document.querySelectorAll('.message-content');
    const toggles = document.querySelectorAll('.toggle-message');

    toggles.forEach((toggle, index) => {
      const message = messages[index];

      if (toggle.contains(e.target)) {
        message.classList.toggle('hidden');
      } else {
        message.classList.add('hidden');
      }
    });
  });

    document.getElementById('search-bar').addEventListener('input', function () {
      const query = this.value.toLowerCase();
      document.querySelectorAll('tbody tr').forEach(row => {
        const rowText = row.textContent.toLowerCase();
        row.style.display = rowText.includes(query) ? '' : 'none';
      });
    });

    document.querySelectorAll('[data-filter]').forEach(button => {
      button.addEventListener('click', function () {
        const filter = this.getAttribute('data-filter');
        document.querySelectorAll('tbody tr').forEach(row => {
          const state = row.getAttribute('data-state');
          row.style.display = (filter === 'all' || state === filter) ? '' : 'none';
        });
      });
    });






    // Example medicines list
    // const medicines = [
    //     "Aspirin",
    //     "Ibuprofen",
    //     "Paracetamol",
    //     "Amoxicillin",
    //     "Cetirizine",
    //     "Metformin",
    //     "Lisinopril",
    //     "Simvastatin",
    //     "Omeprazole",
    //     "Levothyroxine"
    // ];
    //
    // // Function to filter medicines based on input
    // function filterMedicines() {
    //     const input = document.getElementById("medicine_id").value.toLowerCase();
    //     const suggestions = document.getElementById("medicine_suggestions");
    //     suggestions.innerHTML = ""; // Clear existing suggestions
    //
    //     if (input) {
    //         // Filter medicines that match the input
    //         const filteredMedicines = medicines.filter(medicine => medicine.toLowerCase().includes(input));
    //         filteredMedicines.forEach(medicine => {
    //             const li = document.createElement("li");
    //             li.textContent = medicine;
    //             li.classList.add("cursor-pointer", "hover:bg-gray-200", "py-1", "px-3");
    //             li.onclick = () => selectMedicine(medicine);
    //             suggestions.appendChild(li);
    //         });
    //     }
    // }
    //
    // // Function to select a medicine from suggestions
    // function selectMedicine(medicine) {
    //     document.getElementById("medicine_id").value = medicine;
    //     document.getElementById("medicine_suggestions").innerHTML = ""; // Clear suggestions
    // }
</script>
</html>

<!--
 <footer class="bg-green-700 text-white py-8 mt-auto">
    <div class="container mx-auto grid grid-cols-1 sm:grid-cols-3 gap-6">
      <div class="flex flex-col items-center sm:items-start space-y-4">
        <img src="../image/pharmacy-logo.png" alt="Pharmacy Logo" class="w-16 h-16">
        <p class="text-sm text-center sm:text-left">
          Your trusted partner for all your medical and pharmaceutical needs.
        </p>
      </div>

      <div class="flex flex-col items-center sm:items-start space-y-4">
        <h3 class="text-lg font-semibold">Contact Us</h3>
        <a href="mailto:info@pharmacy.com" class="flex items-center space-x-3 hover:text-gray-300 transition duration-200">
          <img src="../image/email-icon.png" alt="Email Icon" class="w-6 h-6">
          <span class="text-sm">info@pharmacy.com</span>
        </a>
        <a href="tel:5554121234" class="flex items-center space-x-3 hover:text-gray-300 transition duration-200">
          <img src="../image/phone-icon.png" alt="Phone Icon" class="w-6 h-6">
          <span class="text-sm">(555) 412-1234</span>
        </a>
      </div>

      <div class="flex flex-col items-center sm:items-start space-y-4">
        <h3 class="text-lg font-semibold">Follow Us</h3>
        <div class="flex space-x-4">
          <a href="#" class="hover:opacity-80 transition duration-200">
            <img src="../image/facebook-icon.png" alt="Facebook Icon" class="w-8 h-8">
          </a>
          <a href="#" class="hover:opacity-80 transition duration-200">
            <img src="../image/twitter-icon.png" alt="Twitter Icon" class="w-8 h-8">
          </a>
          <a href="#" class="hover:opacity-80 transition duration-200">
            <img src="../image/instagram-icon.png" alt="Instagram Icon" class="w-8 h-8">
          </a>
          <a href="#" class="hover:opacity-80 transition duration-200">
            <img src="../image/linkedin-icon.png" alt="LinkedIn Icon" class="w-8 h-8">
          </a>
        </div>
      </div>
    </div>
    <div class="mt-8 text-center text-sm border-t border-green-600 pt-4">
      &copy; 2025 Pharmacy Management System. All rights reserved.
    </div>
  </footer>
-->